@using QuanLyRuiRoTinDung.Services
@{
    ViewData["Title"] = "Qu·∫£n l√Ω kho·∫£n vay";
    Layout = "_DashboardLayout";
    var customers = ViewBag.Customers as List<CustomerLoanSummary> ?? new List<CustomerLoanSummary>();
    var currentTab = ViewBag.CurrentTab as string ?? "my";
    var currentLoaiKhachHang = ViewBag.CurrentLoaiKhachHang as string ?? "all";
    var searchTerm = ViewBag.SearchTerm as string ?? "";
    var caNhanCount = ViewBag.CaNhanCount as int? ?? 0;
    var doanhNghiepCount = ViewBag.DoanhNghiepCount as int? ?? 0;
    var totalLoans = ViewBag.TotalLoans as int? ?? 0;
    var choGiaiNgan = ViewBag.ChoGiaiNgan as int? ?? 0;
    var dangVay = ViewBag.DangVay as int? ?? 0;
    var quaHan = ViewBag.QuaHan as int? ?? 0;
}

@Html.AntiForgeryToken()

<div class="loan-manage-container">
    <!-- Page Header -->
    <div class="page-header-section">
        <div class="header-content">
            <div class="header-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                    <path d="M2 10h20"/>
                </svg>
            </div>
            <div class="header-text">
                <h1>Qu·∫£n l√Ω kho·∫£n vay</h1>
                <p>Theo d√µi v√† qu·∫£n l√Ω c√°c kho·∫£n vay ƒë√£ ƒë∆∞·ª£c ph√™ duy·ªát</p>
            </div>
        </div>
        <div class="header-actions">
            <button class="btn-export" onclick="exportData()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
                Xu·∫•t b√°o c√°o
            </button>
        </div>
    </div>

    <!-- Main Tabs: My Customers / All Customers -->
    <div class="main-tabs-row">
        <a href="?tab=my&loaiKhachHang=@currentLoaiKhachHang" class="main-tab @(currentTab == "my" ? "active" : "")">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>Kh√°ch h√†ng c·ªßa t√¥i</span>
        </a>
        <a href="?tab=all&loaiKhachHang=@currentLoaiKhachHang" class="main-tab @(currentTab == "all" ? "active" : "")">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path d="M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13"></path>
                <path d="M16 3.13C16.8604 3.3503 17.623 3.8507 18.1676 4.55231C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89317 18.7122 8.75608 18.1676 9.45769C17.623 10.1593 16.8604 10.6597 16 10.88"></path>
            </svg>
            <span>T·∫•t c·∫£ kh√°ch h√†ng</span>
        </a>
    </div>

    <!-- Customer Type Tabs -->
    <div class="customer-type-tabs">
        <a href="?tab=@currentTab&loaiKhachHang=all" class="type-tab @(currentLoaiKhachHang == "all" ? "active" : "")">
            <span class="type-icon">üìã</span>
            <span>T·∫•t c·∫£</span>
            <span class="type-count">@(caNhanCount + doanhNghiepCount)</span>
        </a>
        <a href="?tab=@currentTab&loaiKhachHang=CaNhan" class="type-tab type-personal @(currentLoaiKhachHang == "CaNhan" ? "active" : "")">
            <span class="type-icon">üë§</span>
            <span>C√° nh√¢n</span>
            <span class="type-count">@caNhanCount</span>
        </a>
        <a href="?tab=@currentTab&loaiKhachHang=DoanhNghiep" class="type-tab type-business @(currentLoaiKhachHang == "DoanhNghiep" ? "active" : "")">
            <span class="type-icon">üè¢</span>
            <span>Doanh nghi·ªáp</span>
            <span class="type-count">@doanhNghiepCount</span>
        </a>
    </div>

    <!-- Statistics Cards -->
    <div class="stats-grid">
        <div class="stat-card stat-total">
            <div class="stat-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                </svg>
            </div>
            <div class="stat-content">
                <span class="stat-number">@customers.Count</span>
                <span class="stat-label">Kh√°ch h√†ng</span>
            </div>
        </div>

        <div class="stat-card stat-pending">
            <div class="stat-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M9 12l2 2 4-4"/>
                </svg>
            </div>
            <div class="stat-content">
                <span class="stat-number">@choGiaiNgan</span>
                <span class="stat-label">Kho·∫£n ch·ªù gi·∫£i ng√¢n</span>
            </div>
        </div>

        <div class="stat-card stat-active">
            <div class="stat-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12 6 12 12 16 14"/>
                </svg>
            </div>
            <div class="stat-content">
                <span class="stat-number">@dangVay</span>
                <span class="stat-label">Kho·∫£n ƒëang vay</span>
            </div>
        </div>

        <div class="stat-card stat-overdue">
            <div class="stat-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M10.29 3.86L1.82 18C1.64 18.3 1.55 18.64 1.55 19C1.55 19.36 1.64 19.7 1.82 20C2 20.3 2.25 20.55 2.55 20.73C2.85 20.91 3.19 21 3.55 21H20.47C20.83 21 21.17 20.91 21.47 20.73C21.77 20.55 22.02 20.3 22.2 20C22.38 19.7 22.47 19.36 22.47 19C22.47 18.64 22.38 18.3 22.2 18L13.73 3.86C13.55 3.56 13.3 3.32 13 3.15C12.7 2.98 12.36 2.89 12.01 2.89C11.66 2.89 11.32 2.98 11.02 3.15C10.72 3.32 10.47 3.56 10.29 3.86Z"/>
                    <line x1="12" y1="9" x2="12" y2="13"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
            </div>
            <div class="stat-content">
                <span class="stat-number">@quaHan</span>
                <span class="stat-label">Kho·∫£n qu√° h·∫°n</span>
            </div>
        </div>
    </div>

    <!-- Search Section -->
    <div class="search-section">
        <form method="get" class="search-form">
            <div class="search-box">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="M21 21L16.65 16.65"/>
                </svg>
                <input type="text" name="searchTerm" value="@searchTerm" placeholder="T√¨m ki·∫øm theo t√™n, m√£ kh√°ch h√†ng, s·ªë ƒëi·ªán tho·∫°i..." />
                <input type="hidden" name="tab" value="@currentTab" />
                <input type="hidden" name="loaiKhachHang" value="@currentLoaiKhachHang" />
                <button type="submit" class="search-submit">T√¨m</button>
            </div>
        </form>
    </div>

    <!-- Customers Grid -->
    <div class="customers-grid">
        @if (customers.Any())
        {
            foreach (var customer in customers)
            {
                <div class="customer-card @(customer.QuaHan > 0 ? "has-overdue" : "") @(customer.ChoGiaiNgan > 0 ? "has-pending" : "")">
                    <div class="customer-card-header">
                        <div class="customer-avatar @(customer.LoaiKhachHang == "CaNhan" ? "avatar-personal" : "avatar-business")">
                            @if (!string.IsNullOrEmpty(customer.AnhDaiDien))
                            {
                                <img src="@customer.AnhDaiDien" alt="Avatar" />
                            }
                            else
                            {
                                @(customer.LoaiKhachHang == "CaNhan" ? "üë§" : "üè¢")
                            }
                        </div>
                        <div class="customer-info">
                            <h3 class="customer-name">@customer.TenKhachHang</h3>
                            <div class="customer-meta">
                                <span class="customer-code">@customer.MaKhachHangCode</span>
                                <span class="customer-type-badge @(customer.LoaiKhachHang == "CaNhan" ? "type-personal" : "type-business")">
                                    @(customer.LoaiKhachHang == "CaNhan" ? "C√° nh√¢n" : "Doanh nghi·ªáp")
                                </span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="customer-stats">
                        <div class="stat-item">
                            <span class="stat-value">@customer.TongKhoanVay</span>
                            <span class="stat-label">T·ªïng kho·∫£n vay</span>
                        </div>
                        <div class="stat-item pending">
                            <span class="stat-value">@customer.ChoGiaiNgan</span>
                            <span class="stat-label">Ch·ªù gi·∫£i ng√¢n</span>
                        </div>
                        <div class="stat-item active">
                            <span class="stat-value">@customer.DangVay</span>
                            <span class="stat-label">ƒêang vay</span>
                        </div>
                        @if (customer.QuaHan > 0)
                        {
                            <div class="stat-item overdue">
                                <span class="stat-value">@customer.QuaHan</span>
                                <span class="stat-label">Qu√° h·∫°n</span>
                            </div>
                        }
                    </div>
                    
                    <div class="customer-financial">
                        <div class="financial-row">
                            <span class="financial-label">T·ªïng ti·ªÅn vay:</span>
                            <span class="financial-value">@customer.TongSoTienVay.ToString("N0") VNƒê</span>
                        </div>
                        <div class="financial-row">
                            <span class="financial-label">D∆∞ n·ª£ c√≤n l·∫°i:</span>
                            <span class="financial-value debt">@customer.TongDuNoConLai.ToString("N0") VNƒê</span>
                        </div>
                    </div>
                    
                    <div class="customer-contact">
                        @if (!string.IsNullOrEmpty(customer.SoDienThoai))
                        {
                            <span class="contact-item">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                                </svg>
                                @customer.SoDienThoai
                            </span>
                        }
                        @if (!string.IsNullOrEmpty(customer.Email))
                        {
                            <span class="contact-item">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                    <polyline points="22,6 12,13 2,6"/>
                                </svg>
                                @customer.Email
                            </span>
                        }
                    </div>
                    
                    <div class="customer-card-actions">
                        <a href="@Url.Action("CustomerLoans", "Loan", new { customerId = customer.MaKhachHang, customerType = customer.LoaiKhachHang })" class="btn-view-loans">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z"/>
                                <path d="M14 2V8H20"/>
                                <line x1="16" y1="13" x2="8" y2="13"/>
                                <line x1="16" y1="17" x2="8" y2="17"/>
                            </svg>
                            Xem danh s√°ch kho·∫£n vay
                        </a>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="empty-state">
                <div class="empty-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                    </svg>
                </div>
                <h3>Ch∆∞a c√≥ kh√°ch h√†ng n√†o</h3>
                <p>C√°c kh√°ch h√†ng c√≥ kho·∫£n vay ƒë√£ ƒë∆∞·ª£c ph√™ duy·ªát s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y</p>
            </div>
        }
    </div>
</div>

<style>
    .loan-manage-container {
        padding: 0;
        min-height: 100vh;
    }

    /* Page Header */
    .page-header-section {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 28px;
        padding-bottom: 20px;
        border-bottom: 1px solid #e5e7eb;
    }

    .header-content {
        display: flex;
        align-items: center;
        gap: 16px;
    }

    .header-icon {
        width: 56px;
        height: 56px;
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 14px rgba(59, 130, 246, 0.35);
    }

    .header-icon svg {
        width: 28px;
        height: 28px;
        color: white;
    }

    .header-text h1 {
        font-size: 26px;
        font-weight: 700;
        color: #1e293b;
        margin: 0 0 4px 0;
    }

    .header-text p {
        font-size: 14px;
        color: #64748b;
        margin: 0;
    }

    .btn-export {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 20px;
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 10px;
        font-size: 14px;
        font-weight: 500;
        color: #475569;
        cursor: pointer;
        transition: all 0.2s;
    }

    .btn-export:hover {
        background: #f1f5f9;
        border-color: #cbd5e1;
    }

    .btn-export svg {
        width: 18px;
        height: 18px;
    }

    /* Main Tabs Row */
    .main-tabs-row {
        display: flex;
        gap: 12px;
        margin-bottom: 16px;
    }

    .main-tab {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 12px 20px;
        background: white;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        color: #64748b;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.2s;
    }

    .main-tab svg {
        width: 20px;
        height: 20px;
    }

    .main-tab:hover {
        border-color: #3b82f6;
        color: #3b82f6;
    }

    .main-tab.active {
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        border-color: transparent;
        color: white;
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    /* Customer Type Tabs */
    .customer-type-tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 20px;
        background: #f1f5f9;
        padding: 6px;
        border-radius: 12px;
        width: fit-content;
    }

    .type-tab {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 16px;
        background: transparent;
        border-radius: 8px;
        color: #64748b;
        text-decoration: none;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.2s;
    }

    .type-icon {
        font-size: 16px;
    }

    .type-count {
        background: #e2e8f0;
        color: #64748b;
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 600;
    }

    .type-tab:hover {
        background: white;
        color: #334155;
    }

    .type-tab.active {
        background: white;
        color: #1e293b;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .type-tab.active .type-count {
        background: #3b82f6;
        color: white;
    }

    .type-tab.type-personal.active .type-count {
        background: #8b5cf6;
    }

    .type-tab.type-business.active .type-count {
        background: #f59e0b;
    }

    /* Statistics Cards */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin-bottom: 28px;
    }

    .stat-card {
        background: white;
        border-radius: 16px;
        padding: 20px 24px;
        display: flex;
        align-items: center;
        gap: 16px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        border: 1px solid #f1f5f9;
        transition: all 0.3s ease;
    }

    .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }

    .stat-icon {
        width: 52px;
        height: 52px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .stat-icon svg {
        width: 26px;
        height: 26px;
    }

    .stat-total .stat-icon {
        background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
        color: #4f46e5;
    }

    .stat-pending .stat-icon {
        background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
        color: #059669;
    }

    .stat-active .stat-icon {
        background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
        color: #2563eb;
    }

    .stat-overdue .stat-icon {
        background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
        color: #dc2626;
    }

    .stat-content {
        display: flex;
        flex-direction: column;
    }

    .stat-number {
        font-size: 28px;
        font-weight: 700;
        color: #1e293b;
        line-height: 1;
    }

    .stat-label {
        font-size: 13px;
        color: #64748b;
        margin-top: 4px;
    }

    /* Search Section */
    .search-section {
        margin-bottom: 24px;
    }

    .search-box {
        display: flex;
        align-items: center;
        background: white;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: 4px 4px 4px 16px;
        max-width: 500px;
    }

    .search-box svg {
        width: 20px;
        height: 20px;
        color: #94a3b8;
        flex-shrink: 0;
    }

    .search-box input {
        flex: 1;
        border: none;
        outline: none;
        padding: 10px 12px;
        font-size: 14px;
        background: transparent;
    }

    .search-submit {
        padding: 10px 24px;
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        color: white;
        border: none;
        border-radius: 8px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
    }

    .search-submit:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    /* Customers Grid */
    .customers-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
        gap: 24px;
    }

    .customer-card {
        background: white;
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        border: 1px solid #f1f5f9;
        transition: all 0.3s ease;
    }

    .customer-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 32px rgba(0,0,0,0.12);
    }

    .customer-card.has-overdue {
        border-left: 4px solid #ef4444;
    }

    .customer-card.has-pending:not(.has-overdue) {
        border-left: 4px solid #10b981;
    }

    .customer-card-header {
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 20px;
    }

    .customer-avatar {
        width: 60px;
        height: 60px;
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        overflow: hidden;
    }

    .customer-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .customer-avatar.avatar-personal {
        background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
    }

    .customer-avatar.avatar-business {
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    }

    .customer-info {
        flex: 1;
    }

    .customer-name {
        font-size: 18px;
        font-weight: 600;
        color: #1e293b;
        margin: 0 0 6px 0;
    }

    .customer-meta {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .customer-code {
        font-size: 13px;
        color: #64748b;
    }

    .customer-type-badge {
        font-size: 11px;
        padding: 2px 8px;
        border-radius: 6px;
        font-weight: 500;
    }

    .customer-type-badge.type-personal {
        background: #ede9fe;
        color: #7c3aed;
    }

    .customer-type-badge.type-business {
        background: #fef3c7;
        color: #d97706;
    }

    .customer-stats {
        display: flex;
        gap: 12px;
        margin-bottom: 16px;
        padding-bottom: 16px;
        border-bottom: 1px solid #f1f5f9;
    }

    .customer-stats .stat-item {
        flex: 1;
        text-align: center;
        padding: 10px 8px;
        background: #f8fafc;
        border-radius: 10px;
    }

    .customer-stats .stat-item.pending {
        background: #d1fae5;
    }

    .customer-stats .stat-item.active {
        background: #dbeafe;
    }

    .customer-stats .stat-item.overdue {
        background: #fee2e2;
    }

    .customer-stats .stat-value {
        display: block;
        font-size: 20px;
        font-weight: 700;
        color: #1e293b;
    }

    .customer-stats .stat-item.pending .stat-value {
        color: #059669;
    }

    .customer-stats .stat-item.active .stat-value {
        color: #2563eb;
    }

    .customer-stats .stat-item.overdue .stat-value {
        color: #dc2626;
    }

    .customer-stats .stat-label {
        font-size: 11px;
        color: #64748b;
        margin-top: 2px;
    }

    .customer-financial {
        margin-bottom: 16px;
    }

    .financial-row {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
    }

    .financial-label {
        font-size: 13px;
        color: #64748b;
    }

    .financial-value {
        font-size: 14px;
        font-weight: 600;
        color: #1e293b;
    }

    .financial-value.debt {
        color: #ef4444;
    }

    .customer-contact {
        display: flex;
        flex-direction: column;
        gap: 6px;
        margin-bottom: 16px;
        padding: 12px;
        background: #f8fafc;
        border-radius: 10px;
    }

    .contact-item {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 13px;
        color: #64748b;
    }

    .contact-item svg {
        width: 14px;
        height: 14px;
    }

    .customer-card-actions {
        margin-top: auto;
    }

    .btn-view-loans {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        width: 100%;
        padding: 12px 20px;
        background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 14px;
        font-weight: 500;
        text-decoration: none;
        cursor: pointer;
        transition: all 0.2s;
    }

    .btn-view-loans:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(59, 130, 246, 0.35);
        color: white;
    }

    .btn-view-loans svg {
        width: 18px;
        height: 18px;
    }

    /* Empty State */
    .empty-state {
        grid-column: 1 / -1;
        text-align: center;
        padding: 60px 20px;
        background: white;
        border-radius: 16px;
        border: 1px dashed #e2e8f0;
    }

    .empty-icon {
        width: 80px;
        height: 80px;
        margin: 0 auto 20px;
        background: #f1f5f9;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .empty-icon svg {
        width: 40px;
        height: 40px;
        color: #94a3b8;
    }

    .empty-state h3 {
        font-size: 18px;
        color: #475569;
        margin: 0 0 8px 0;
    }

    .empty-state p {
        font-size: 14px;
        color: #94a3b8;
        margin: 0;
    }

    @@media (max-width: 768px) {
        .stats-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .customers-grid {
            grid-template-columns: 1fr;
        }

        .main-tabs-row {
            flex-direction: column;
        }

        .customer-type-tabs {
            flex-wrap: wrap;
            width: 100%;
        }
    }
</style>

<script>
    function exportData() {
        alert('Ch·ª©c nƒÉng xu·∫•t b√°o c√°o ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn');
    }
</script>
